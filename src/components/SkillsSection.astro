---
// Importar iconos
import ReactIcon from './icons/React.astro';
import SassIcon from './icons/Sass.astro';
import BootstrapIcon from './icons/Bootstrap.astro';
import TypeScriptIcon from './icons/TypeScript.astro';
import JavaScriptIcon from './icons/JavaScritp.astro';
import NodeIcon from './icons/Node.astro';
import NestIcon from './icons/Nestjs.astro';
import GitIcon from './icons/Git.astro';
import GitHubIcon from './icons/GitHub.astro';
import CopilotIcon from './icons/Copilot.astro';
import TailwindIcon from './icons/Tailwind.astro';
import PostgresIcon from './icons/Postgres.astro';
import TypeORMIcon from './icons/TypeORM.astro';
import LopdpIcon from './icons/Lopdp.astro';

const skills = [
    { name: "React", category: "Frontend", iconComponent: ReactIcon, colorClass: "icon-react" },
    { name: "SASS", category: "Frontend", iconComponent: SassIcon, colorClass: "icon-sass" },
    { name: "Bootstrap", category: "Frontend", iconComponent: BootstrapIcon, colorClass: "icon-bootstrap" },
    { name: "TypeScript", category: "Language", iconComponent: TypeScriptIcon, colorClass: "icon-typescript" },
    { name: "JavaScript", category: "Language", iconComponent: JavaScriptIcon, colorClass: "icon-javascript" },

    { name: "Node.js", category: "Backend", iconComponent: NodeIcon, colorClass: "icon-nodejs" },
    { name: "Nest.js", category: "Backend", iconComponent: NestIcon, colorClass: "icon-nestjs" },
    { name: "Git", category: "Tools", iconComponent: GitIcon, colorClass: "icon-git" },
    { name: "GitHub", category: "Tools", iconComponent: GitHubIcon, colorClass: "icon-github" },
    { name: "GitHub Copilot", category: "Tools", iconComponent: CopilotIcon, colorClass: "icon-copilot" },
    { name: "Tailwind CSS", category: "Frontend", iconComponent: TailwindIcon, colorClass: "icon-tailwind" },
    { name: "PostgreSQL", category: "Database", iconComponent: PostgresIcon, colorClass: "icon-postgresql" },
    { name: "TypeORM", category: "Database", iconComponent: TypeORMIcon, colorClass: "icon-typeorm" },

    {
        name: "LODPDP",
        fullName: "Ley Orgánica de Protección de Datos Personales",
        description:
            "Normativa ecuatoriana sobre protección de datos personales y privacidad digital",
        category: "Otros",
        iconComponent: LopdpIcon,
        colorClass: "icon-lodpdp",
    },
];

const categories = {
    Frontend: skills.filter((skill) => skill.category === "Frontend"),
    Backend: skills.filter((skill) => skill.category === "Backend"),
    Language: skills.filter((skill) => skill.category === "Language"),
    Tools: skills.filter((skill) => skill.category === "Tools"),
    Database: skills.filter((skill) => skill.category === "Database"),
    Otros: skills.filter((skill) => skill.category === "Otros"),
};
---

<!-- Componente Habilidades -->
<section
    id="habilidades"
    class="py-20 bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 relative overflow-hidden"
>
    <div class="absolute inset-0 opacity-5">
        <div
            class="absolute top-20 right-10 w-48 h-48 bg-blue-500 rounded-full blur-3xl"
        >
        </div>
        <div
            class="absolute bottom-10 left-20 w-36 h-36 bg-teal-500 rounded-full blur-3xl"
        >
        </div>
        <div
            class="absolute top-1/3 left-1/3 w-28 h-28 bg-white rounded-full blur-2xl"
        >
        </div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-6xl mx-auto">
            <h2
                class="text-3xl md:text-4xl font-bold text-center text-white mb-4"
            >
                Conocimientos y Tecnologías
            </h2>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {
                    Object.entries(categories).map(
                        ([category, categorySkills]) => (
                            <div class="bg-white/10 backdrop-blur-lg rounded-xl p-6 shadow-2xl border border-white/20 hover:bg-white/15 transition-all duration-300 hover:scale-105">
                                <h3 class="text-xl font-semibold text-white mb-4 text-center">
                                    {category}
                                </h3>
                                <div class="flex flex-wrap gap-3 justify-center">
                                    {categorySkills.map((skill) => (
                                        <div class="bg-blue-500/20 text-white border border-blue-500/30 hover:bg-blue-500/30 transition-colors duration-200 text-sm py-2 px-4 rounded-full group relative">
                                            <div class="flex items-center gap-2">
                                                <div class={`skill-icon ${skill.colorClass}`}>
                                                    <skill.iconComponent />
                                                </div>
                                                <span>{skill.name}</span>
                                            </div>
                                            {(skill.description ||
                                                skill.fullName) && (
                                                <div class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 w-64 text-center">
                                                    <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-gray-900" />
                                                    {skill.fullName && (
                                                        <div class="font-semibold mb-1">
                                                            {skill.fullName}
                                                        </div>
                                                    )}
                                                    {skill.description && (
                                                        <div>
                                                            {skill.description}
                                                        </div>
                                                    )}
                                                </div>
                                            )}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        ),
                    )
                }
            </div>
        </div>
    </div>
</section>
